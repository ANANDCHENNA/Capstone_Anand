<div class="main-content-area">
  <div class="form-container-wrapper large-form-wrapper">
    <h2 class="form-title"><i class="fas fa-shield-alt form-icon"></i> My Policies</h2>

    <div *ngIf="myPolicies.length === 0" class="themed-info-message fade-in">
      <i class="fas fa-info-circle"></i> You have no policies yet.
    </div>

    <div class="table-responsive policy-table-responsive" *ngIf="myPolicies.length > 0">
      <table class="policy-table table-hover align-middle">
        <thead>
          <tr>
            <th><i class="fas fa-hashtag"></i> Policy ID</th>
            <th><i class="fas fa-signature"></i> Name</th>
            <th><i class="fas fa-tag"></i> Type</th>
            <th><i class="fas fa-dollar-sign"></i> Premium</th>
            <th><i class="fas fa-calendar-alt"></i> Term (months)</th>
            <th><i class="fas fa-cogs"></i> Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of myPolicies" class="policy-table-row">
            <td>{{ p.id }}</td>
            <td>{{ p.name }}</td>
            <td>{{ p.policyType }}</td>
            <td><i class="fas fa-rupee-sign policy-currency-icon"></i>{{ p.premium }}</td>
            <td>{{ p.termMonths }}</td>
            <td class="policy-actions">
              <button
                class="action-button"
                (click)="claimPolicy(p)"
                [disabled]="p.status === 'Claimed'"
                [ngClass]="{'claim-claimed-button': p.status === 'Claimed', 'claim-action-button': p.status !== 'Claimed'}"
              >
                <ng-container *ngIf="p.status === 'Claimed'">
                  <i class="fas fa-check-circle"></i> Claimed
                </ng-container>
                <ng-container *ngIf="p.status !== 'Claimed'">
                  <i class="fas fa-exclamation-triangle"></i> Claim
                </ng-container>
              </button>
              <button class="action-button view-action-button" [routerLink]="['/policy', p.id]">
                <i class="fas fa-eye"></i> View
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Note: The themed-toast for snackbar is assumed to be present in your root app component or index.html -->