<div class="container mt-4">
  <h4 class="mb-3">
    <i class="fas fa-shield-alt me-2 text-primary"></i> My Policies
  </h4>

  <div *ngIf="myPolicies.length === 0" class="alert alert-info alert-glass-effect fade-in">
    <i class="fas fa-info-circle me-2"></i> You have no policies yet.
  </div>

  <div class="table-responsive glass-table-container" *ngIf="myPolicies.length > 0">
    <table class="table table-hover table-striped glass-table">
      <thead>
        <tr>
          <th><i class="fas fa-hashtag me-2"></i>Policy ID</th>
          <th><i class="fas fa-signature me-2"></i>Name</th>
          <th><i class="fas fa-tag me-2"></i>Type</th>
          <th><i class="fas fa-money-bill-wave me-2"></i>Premium</th>
          <th><i class="fas fa-clock me-2"></i>Term (months)</th>
          <th><i class="fas fa-cogs me-2"></i>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of myPolicies">
          <td>{{ p.id }}</td>
          <td>{{ p.name }}</td>
          <td>{{ p.policyType }}</td>
          <td><i class="fas fa-rupee-sign me-1"></i>{{ p.premium }}</td>
          <td>{{ p.termMonths }}</td>
          <td>
            <button
              class="btn btn-sm btn-primary me-2 claim-button"
              (click)="claimPolicy(p)"
              [disabled]="p.status === 'Claimed'"
              [ngClass]="{'btn-success': p.status === 'Claimed', 'btn-primary': p.status !== 'Claimed'}"
            >
              <ng-container *ngIf="p.status === 'Claimed'">
                <i class="fas fa-check-circle me-1"></i> Claimed
              </ng-container>
              <ng-container *ngIf="p.status !== 'Claimed'">
                <i class="fas fa-exclamation-triangle me-1"></i> Claim
              </ng-container>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

