<div class="container my-5 minimalist-card p-4">
  <h2 class="mb-4 text-center">Create New Policy</h2>

  <form [formGroup]="policyForm" (ngSubmit)="onSubmit()">
    <!-- Policy Number -->
    <div class="mb-3">
      <label for="policyNumber" class="form-label">Policy Number</label>
      <input type="text" id="policyNumber" formControlName="policyNumber" 
             class="form-control" placeholder="Enter policy number"/>
      <div *ngIf="policyForm.get('policyNumber')?.touched && policyForm.get('policyNumber')?.invalid"
           class="text-danger mt-1">
        Policy number is required
      </div>
    </div>

    <!-- Policy Type -->
    <div class="mb-3">
      <label for="policyType" class="form-label">Policy Type</label>
      <select id="policyType" formControlName="policyType" class="form-control">
        <option value="">Select Policy Type</option>
        <option value="LIFE">Life Insurance</option>
        <option value="HEALTH">Health Insurance</option>
        <option value="VEHICLE">Vehicle Insurance</option>
        <option value="PROPERTY">Property Insurance</option>
      </select>
      <div *ngIf="policyForm.get('policyType')?.touched && policyForm.get('policyType')?.invalid"
           class="text-danger mt-1">
        Policy type is required
      </div>
    </div>

    <!-- Start Date -->
    <div class="mb-3">
      <label for="startDate" class="form-label">Start Date</label>
      <input type="date" id="startDate" formControlName="startDate" 
             class="form-control"/>
      <div *ngIf="policyForm.get('startDate')?.touched && policyForm.get('startDate')?.invalid"
           class="text-danger mt-1">
        Start date is required
      </div>
    </div>

    <!-- End Date -->
    <div class="mb-3">
      <label for="endDate" class="form-label">End Date</label>
      <input type="date" id="endDate" formControlName="endDate" 
             class="form-control"/>
      <div *ngIf="policyForm.get('endDate')?.touched && policyForm.get('endDate')?.invalid"
           class="text-danger mt-1">
        <span *ngIf="policyForm.get('endDate')?.errors?.['required']">End date is required</span>
        <span *ngIf="policyForm.get('endDate')?.errors?.['endDateInvalid']">End date must be after start date</span>
      </div>
    </div>

    <!-- Coverage Amount -->
    <div class="mb-3">
      <label for="coverageAmount" class="form-label">Coverage Amount</label>
      <input type="number" id="coverageAmount" formControlName="coverageAmount" 
             class="form-control" placeholder="Enter coverage amount"/>
      <div *ngIf="policyForm.get('coverageAmount')?.touched && policyForm.get('coverageAmount')?.invalid"
           class="text-danger mt-1">
        <span *ngIf="policyForm.get('coverageAmount')?.errors?.['required']">Coverage amount is required</span>
        <span *ngIf="policyForm.get('coverageAmount')?.errors?.['min']">Coverage amount must be greater than 0</span>
      </div>
    </div>

    <!-- Premium Amount -->
    <div class="mb-3">
      <label for="premiumAmount" class="form-label">Premium Amount</label>
      <input type="number" id="premiumAmount" formControlName="premiumAmount" 
             class="form-control" placeholder="Enter premium amount"/>
      <div *ngIf="policyForm.get('premiumAmount')?.touched && policyForm.get('premiumAmount')?.invalid"
           class="text-danger mt-1">
        <span *ngIf="policyForm.get('premiumAmount')?.errors?.['required']">Premium amount is required</span>
        <span *ngIf="policyForm.get('premiumAmount')?.errors?.['min']">Premium amount must be greater than 0</span>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="d-grid mt-4">
      <button type="submit" class="btn btn-outline-primary btn-lg" [disabled]="!policyForm.valid">
        Create Policy
      </button>
    </div>
  </form>
</div>

<!-- Toast / Snackbar -->
<div id="snackbarToast" class="toast align-items-center text-bg-success border-0 position-fixed bottom-0 end-0 m-3"
     role="alert" aria-live="assertive" aria-atomic="true">
  <div class="d-flex">
    <div class="toast-body">
      <!-- Toast message will be set dynamically -->
    </div>
    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
  </div>
</div>
